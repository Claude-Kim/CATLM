# CATLM 개념 정의서

> **Cat Adaptive Tiny Language Model**  
> SNAX Cats 온디바이스 AI 캐릭터 적응 시스템  
> v1.0 | 2026

---

## 0. SNAX Cats 매트릭스 요약

| 항목 | 값 | 의미 |
|------|----|------|
| 초기 특성값 | 4가지 × 5범위 | 625가지 고양이 초기 개성 조합 |
| 상태값 | 16가지 × 256범위 | 배고픔, 심심함, 짜증 등 감정/신체 상태 |
| 유저 액션 | 10가지 | 10×16 매트릭스로 상태값에 영향 |
| 단어표 | 512개 + 이모티콘 16종 | 대사 생성 어휘 풀 |

---

## 1. 정의

**CATLM**은 모바일 게임 SNAX Cats에 적용되는 온디바이스 경량 AI 기반 캐릭터 적응 시스템이다.

유저의 플레이 패턴을 실시간으로 분석하여 각 고양이의 상태와 대사를 동적으로 생성한다. 핵심 게임 루프와 독립된 고도화 옵션 레이어로 설계되어, 비활성화 시에도 게임은 정상 동작한다.

---

## 2. 목적

- 반복 플레이 피로도 완화
- 유저-캐릭터 간 누적 관계 형성을 통한 장기 리텐션 확보
- 고양이별 개성 차별화로 수집 동기 강화
- 위기 예보 시스템을 통한 재접속 유인 구조 구현

---

## 3. 핵심 구성 요소

### 3-1. 초기 특성값 (4가지 × 5단계)

고양이 개체의 고유 성격을 정의하는 불변 값. 총 **625가지 조합** 가능.

| 특성 | 설명 | 주요 영향 |
|------|------|---------|
| 활동성 | 움직임과 탐험 욕구 | 탐험/놀이 반응 강도 |
| 사교성 | 유저 및 타 고양이와의 친화도 | 교감 반응, 외로움 민감도 |
| 식탐 | 먹이와 간식에 대한 욕구 강도 | 먹이 관련 반응 강도 |
| 겁쟁이 | 자극에 대한 민감도와 경계심 | 위기 게이지 발동 임계값 |

---

### 3-2. 상태값 (16가지 × 256범위)

유저 액션과 시간 경과에 따라 실시간 변동하는 고양이의 현재 상태.

| # | 상태 | 주요 트리거 |
|---|------|-----------|
| 1 | 배고픔 | 먹이주기 미이행, 시간 경과 |
| 2 | 심심함 | 놀이 미이행, 방치 |
| 3 | 피로 | 탐험, 훈련 과다 |
| 4 | 짜증 | 배고픔 + 심심함 복합 누적 |
| 5 | 우울 | 장기 방치 |
| 6 | 행복 | 긍정 상호작용 누적 |
| 7 | 만족 | 욕구 충족 |
| 8 | 호기심 | 탐험 귀환, 선물, 신규 아이템 |
| 9 | 공격성 | 짜증 + 경계심 임계값 초과 |
| 10 | 불안 | 낯선 자극, 겁쟁이 특성 반응 |
| 11 | 외로움 | 방치, 사교성 높은 개체 방치 시 가중 |
| 12 | 자존감 | 선물, 쓰다듬기, 칭찬 누적 |
| 13 | 건강 | 먹이 + 그루밍 상태 연동 |
| 14 | 피부상태 | 그루밍 미이행 시 악화 |
| 15 | 경계심 | 코스튬, 낯선 배치, 선물 초기 반응 |
| 16 | 흥분 | 간식, 탐험 귀환, 이벤트 |

---

### 3-3. 유저 액션 (10가지)

유저가 고양이에게 취할 수 있는 행동. 각 액션은 상태값에 영향을 미치는 **10×16 매트릭스**로 정의된다.

| # | 액션 | 주요 상태 효과 |
|---|------|-------------|
| 1 | 먹이주기 | 배고픔↓ 만족↑ 건강↑ |
| 2 | 간식주기 | 행복↑↑ 흥분↑↑ |
| 3 | 놀아주기 | 심심함↓ 행복↑ 피로↑ |
| 4 | 그루밍 | 피부상태↑ 건강↑ 불안↓ |
| 5 | 쓰다듬기 | 만족↑ 자존감↑ 외로움↓ |
| 6 | 탐험보내기 | 호기심↑↑ 피로↑ |
| 7 | 선물주기 | 자존감↑↑ 호기심↑ |
| 8 | 훈련시키기 | 자존감↑ 건강↑(장기) 피로↑ |
| 9 | 코스튬 입히기 | 경계심↑↑ 불안↑ 흥분↑ |
| 10 | 방치 | 배고픔↑ 심심함↑ 우울↑ 외로움↑ |

---

### 3-4. 10×16 액션-상태 매트릭스 초안

영향값 레이블은 **+강, +중, +약, -약, -중, -강, 0(영향 없음)** 기준을 사용한다.

| 액션↓ 상태→ | 배고픔 | 심심함 | 피로 | 짜증 | 우울 | 행복 | 만족 | 호기심 | 공격성 | 불안 | 외로움 | 자존감 | 건강 | 피부 | 경계심 | 흥분 |
|------------|--------|--------|------|------|------|------|------|--------|--------|------|--------|--------|------|------|--------|------|
| 먹이주기 | -강 | 0 | 0 | -약 | 0 | +약 | +중 | 0 | 0 | 0 | 0 | 0 | +약 | 0 | 0 | 0 |
| 간식주기 | -중 | 0 | 0 | -약 | 0 | +강 | +약 | 0 | 0 | 0 | 0 | +약 | 0 | 0 | 0 | +강 |
| 놀아주기 | 0 | -강 | +약 | -중 | -약 | +중 | +약 | +약 | -약 | -약 | -중 | 0 | 0 | 0 | 0 | +중 |
| 그루밍 | 0 | 0 | 0 | -약 | 0 | +약 | +약 | 0 | 0 | -약 | 0 | 0 | +중 | +강 | 0 | 0 |
| 쓰다듬기 | 0 | -약 | 0 | -약 | -약 | +약 | +중 | 0 | -약 | -약 | -약 | +중 | 0 | 0 | 0 | 0 |
| 탐험보내기 | 0 | -중 | +강 | 0 | 0 | 0 | 0 | +강 | 0 | +약 | 0 | 0 | 0 | 0 | +약 | +약 |
| 선물주기 | 0 | -약 | 0 | 0 | -약 | +중 | +약 | +강 | 0 | 0 | -약 | +강 | 0 | 0 | +약 | +중 |
| 훈련시키기 | 0 | -중 | +중 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | +중 | +중 | 0 | 0 | 0 |
| 코스튬 입히기 | 0 | 0 | 0 | +약 | 0 | 0 | 0 | +약 | 0 | +중 | 0 | 0 | 0 | 0 | +강 | +중 |
| 방치 | +강 | +강 | 0 | +중 | +강 | -강 | -강 | 0 | +약 | +약 | +강 | -중 | -약 | -약 | 0 | 0 |

---

### 3-5. 특성값 가중치 규칙

> **최종 상태 변화량 = 액션 기본값 × 특성 가중치**

동일 액션이라도 고양이의 특성값에 따라 반응 강도가 달라진다.

**특성별 적용 규칙**

- **활동성 (1~5)**: 탐험보내기(호기심, 피로), 놀아주기(심심함 감소), 방치(심심함·짜증 누적)에 가중 적용.
- **사교성 (1~5)**: 쓰다듬기/놀아주기(행복, 만족), 방치(외로움, 우울 누적), 선물주기(자존감)에 가중 적용.
- **식탐 (1~5)**: 먹이주기/간식주기(행복, 흥분), 방치(배고픔 누적), 간식주기(만족)에 가중 적용.
- **겁쟁이 (1~5)**: 코스튬 입히기(경계심, 불안), 선물주기(낯선 자극 경계심), 탐험보내기(불안 누적), 새 고양이 배치(경계심)에 가중 적용.

```text
특성값 1  →  ×0.6
특성값 2  →  ×0.8
특성값 3  →  ×1.0  (기준)
특성값 4  →  ×1.3
특성값 5  →  ×1.6
```

**적용 예시**

- 식탐 5인 고양이 + 간식주기 → 흥분 반응 ×1.6 (매우 강한 반응)
- 겁쟁이 5인 고양이 + 코스튬 입히기 → 경계심 ×1.6 (즉각 하악 반응 가능)
- 사교성 5인 고양이 + 방치 → 외로움 누적 속도 ×1.6

---

## 4. 위기 예보 시스템

### 4-1. 위기 게이지 계산식

위기 게이지는 단일 상태값이 아닌 복수 상태값의 복합 임계 구조로 계산한다.

```text
Ct = 위기 예보 강도 (0.0 ~ 1.0)
θ = 위기 게이지 발동 임계값
Ct ≥ θ 일 때 위기 모드 진입
```

```text
Ct = (배고픔 × 0.25) + (우울 × 0.20) + (짜증 × 0.15)
   + (피부상태악화 × 0.15) + (외로움 × 0.15) + (건강악화 × 0.10)

Ct 범위: 0.0 ~ 1.0
```

### 4-2. 위기 단계 정의

| 단계 | Ct 범위 | 고양이 반응 | 유저 인지 |
|------|---------|-----------|---------|
| 정상 | 0.0 ~ 0.3 | 일반 행동 | 게이지 미표시 |
| 주의 | 0.3 ~ 0.5 | 웅크림, 다리떨기 | 노란색 게이지 |
| 경고 | 0.5 ~ 0.7 | 하악, 드러누움, 피부색 변화 | 주황색 점멸 |
| 붕괴 | 0.7 ~ 1.0 | 은신, 공격, 병듦 | 빨간 알림 + BM 연결 |

### 4-3. 특성값 연동

- **겁쟁이 높을수록** → 위기 게이지 발동 임계값 하락 (더 쉽게 위기 진입)
- **사교성 높을수록** → 외로움 가중치 상승
- **식탐 높을수록** → 배고픔 가중치 상승
- **활동성 높을수록** → 심심함이 Ct에 추가 반영

### 4-4. 위기 해소 조건

| 단계 | 탈출 조건 |
|------|----------|
| 주의 → 정상 | 핵심 액션 1~2회 |
| 경고 → 주의 | 핵심 액션 3~5회 + 시간 경과 |
| 붕괴 → 경고 | 복합 액션 + 회복 아이템 사용(BM 연결) |

---

## 5. 대사 생성 시스템

### 5-1. 처리 흐름

```text
1단계: 감정 톤 결정 (상태값 조합 기반)
       ↓
2단계: 말투 필터 적용 (특성값 기반)
       ↓
3단계: 단어 풀 필터링 (512개 중 가중치 선택)
       ↓
4단계: 이모티콘 선택 (16종 중 톤 매칭)
       ↓
출력: 짧은 대사 1~2문장 + 이모티콘
```

### 5-2. 감정 톤 분류 (8종)

| 톤 | 주요 트리거 | 말투 특성 |
|----|-----------|---------|
| 행복 | 행복↑ 만족↑ | 긍정, 애교 |
| 투정 | 심심함↑ 외로움↑ | 칭얼거림, 어리광 |
| 불평 | 배고픔↑ 짜증↑ | 퉁명, 요구형 |
| 경계 | 경계심↑ 불안↑ | 거리두기, 의문형 |
| 무기력 | 우울↑ 피로↑ | 축 처짐, 무반응 |
| 위험 | Ct ≥ 0.5 | 하악, 공격적 경고 |
| 흥분 | 흥분↑ 호기심↑ | 에너지 과활성 |
| 회복 | 위기 후 액션 수신 | 조심스러운 긍정 |

### 5-3. 특성값 말투 필터 (2차 필터)

| 특성 | 높을 때 | 낮을 때 |
|------|--------|--------|
| 활동성 | 짧고 에너지 넘침 | 느긋하고 여유로움 |
| 사교성 | 적극적, 말 많음 | 과묵, 짧은 반응 |
| 식탐 | 먹을 것 자주 언급 | 먹이에 무덤덤 |
| 겁쟁이 | 소극적, 의문형 | 대담하고 직접적 |

### 5-4. 단어 풀 512개 카테고리

| 카테고리 | 단어 수 |
|---------|--------|
| 긍정 감정어 | 80개 |
| 부정 감정어 | 80개 |
| 중립 행동어 | 80개 |
| 요구/투정어 | 60개 |
| 경계/거부어 | 60개 |
| 먹이 관련어 | 40개 |
| 탐험 관련어 | 40개 |
| 회복 반응어 | 40개 |
| 개성 고유어 | 32개 |

### 5-5. 이모티콘 16종 배분

| 이모티콘 | 연결 톤 | 이모티콘 | 연결 톤 |
|--------|--------|--------|--------|
| 😺 | 행복 | 😿 | 우울, 무기력 |
| 😸 | 흥분 | 😾 | 짜증, 불평 |
| 😹 | 과흥분 | 🐱 | 중립, 관망 |
| 😻 | 만족 최고조 | 💤 | 피로, 드러누움 |
| 😼 | 거만, 자존감 높음 | ❤️ | 사교성 높은 행복 |
| 😽 | 애교, 쓰다듬기 반응 | 💢 | 공격성, 위험 |
| 🙀 | 놀람, 경계 | 🐟 | 식탐 관련 |
| ✨ | 회복, 긍정 전환 | ❓ | 겁쟁이, 불안 |

### 5-6. 누적 관계 형성 (αt)

유저의 돌봄 패턴이 누적될수록 대사 톤이 개인화된다.

```text
αt 높음 (꾸준한 돌봄)
→ 회복어, 긍정어 풀 가중치 상승
→ 예: "요즘은 믿어도 될 것 같아"

αt 낮음 (불규칙한 돌봄)
→ 경계어, 투정어 풀 가중치 상승
→ 예: "어차피 또 사라질 거잖아"
```

---

## 6. 성과 지표 (KPI)

| KPI | 목표값 | 측정 방법 |
|-----|--------|---------|
| 평균 세션 체류 시간 | CATLM 미적용 대비 +15% 이상 | A/B 테스트, 세션 로그 비교 |
| D7 리텐션 | 업계 평균 대비 +5~8%p 개선 | A/B 테스트, 7일 재방문 비율 |
| 위기 경험 유저 재접속 확률 | 미경험 유저 대비 +20% 이상 | 위기 단계 진입 이벤트 로그 분석 |

---

## 7. 리스크 관리

| 리스크 | 대응 방안 |
|--------|---------|
| AI 구현 실패 | CATLM은 고도화 옵션 레이어 — 비활성화 시 게임 정상 동작 |
| KPI 미달 | A/B 테스트 단계별 검증, 파라미터 조기 조정 |
| 온디바이스 성능 이슈 | 확률 가중치 기반 경량 필터링 — 연산 부담 최소화 설계 |
| 콘텐츠 품질 저하 | 단어 풀 사전 큐레이션 + QA 단계 검수 |

---

## 8. 이론적 기반

본 시스템은 *Structural Inference Transitions Under Irreversible Survival Constraints* 논문을 이론적 기반으로 한다. (arXiv 공개 예정)

해당 논문의 핵심 개념을 게임 맥락에 맞게 경량 적용하였다.

| 논문 개념 | CATLM 적용 |
|---------|-----------|
| 붕괴 예보 강도 Ct | 위기 예보 게이지 |
| 비가역적 기능 손실 | 병듦, 우울증, 피부병 |
| 존재 소멸 임계값 θ | 붕괴 단계 진입 조건 |
| Origin dependency weight αt | 유저 돌봄 패턴 누적 반영 구조 |

---

*CATLM Concept Definition Document v1.0 — SNAX Cats*

(관련문서)
- [[Part I __ Structural Inference Transitions Under Irreversible Survival Constraints]]
